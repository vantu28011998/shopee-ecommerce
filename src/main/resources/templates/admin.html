<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >

<head>
    <div th:replace="layout :: head" ></div>
</head>

<body>

    <div class="d-flex">
        <div th:replace="layout :: sidebar"></div>

        <div class="right-section d-flex flex-column">
            <div th:replace="layout :: menu-top"></div>
            <div id="content">
                <section>
                    <div class="container">
                        <div class="page-header">
                            <h3 class="m-0">Dashboard</h3>
                            <p class="m-0 mt-1">ShopBee Admin Panel</p>
                        </div>
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-6 mb-4">
                                    <div class="card bg-warning border-0" style="border-radius: 25px !important;">
                                        <div class="card-body " style="padding: 30px !important">
                                            <div class="row">
                                                <div class="col-4">
                                                    <div
                                                            class="card-icon d-flex align-items-center justify-content-center rounded-circle">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                             fill="currentColor" class="bi bi-cursor text-warning"
                                                             viewBox="0 0 16 16">
                                                            <path
                                                                    d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z" />
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="col-8 text-light">
                                                    <span class="m-0 fw-normal fs-6">Earnings</span>
                                                    <h3 class="mb-0">
                                                        <span id="courter" th:text="${revenueInMonth}"></span>
                                                        <span class="fs-6">This Month</span>
                                                    </h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 mb-4">
                                    <div class="card bg-secondary border-0" style="border-radius: 25px !important;">
                                        <div class="card-body " style="padding: 30px !important">
                                            <div class="row">
                                                <div class="col-4">
                                                    <div
                                                            class="card-icon d-flex align-items-center justify-content-center rounded-circle">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                             fill="currentColor" class="bi bi-box text-secondary"
                                                             viewBox="0 0 16 16">
                                                            <path
                                                                    d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z" />
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="col-8 text-light">
                                                    <span class="m-0 fw-normal fs-6">Products</span>
                                                    <h3 class="mb-0">
                                                        <span class="counter" th:text="${totalProductsInMonth}"></span>
                                                        <span class="fs-6">This Month</span>
                                                    </h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 mb-4">
                                    <div class="card bg-primary border-0" style="border-radius: 25px !important;">
                                        <div class="card-body " style="padding: 30px !important">
                                            <div class="row">
                                                <div class="col-4">
                                                    <div
                                                            class="card-icon d-flex align-items-center justify-content-center rounded-circle">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                             fill="currentColor" class="bi bi-cart4 text-primary"
                                                             viewBox="0 0 16 16">
                                                            <path
                                                                    d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="col-8 text-light">
                                                    <span class="m-0 fw-normal fs-6">Orders</span>
                                                    <h3 class="mb-0">
                                                        <span th:text="${countOrdersInMonth}"></span>
                                                        <span class="fs-6">This Month</span>
                                                    </h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 mb-4">
                                    <div class="card bg-danger border-0" style="border-radius: 25px !important;">
                                        <div class="card-body " style="padding: 30px !important">
                                            <div class="row">
                                                <div class="col-4">
                                                    <div
                                                            class="card-icon d-flex align-items-center justify-content-center rounded-circle">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                             fill="currentColor" class="bi bi-people text-danger"
                                                             viewBox="0 0 16 16">
                                                            <path
                                                                    d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="col-8 text-light">
                                                    <span class="m-0 fw-normal fs-6">Vendors</span>
                                                    <h3 class="mb-0">
                                                        <span th:text="${countVendersInMonth}"></span>
                                                        <span class="fs-6">This Month</span>
                                                    </h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 mb-4">
                                    <div class="card border-0 shadow" style="border-radius: 8px !important;">
                                        <div class="card-header" style="border-radius: 8px 8px 0 0 !important;">
                                            <h5>Lastest Orders <small>(this week)</small></h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="user-status table-responsive latest-order-table">
                                                <table id="example" class="table table-bordernone table-hover">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">Customer</th>
                                                        <th scope="col">Email</th>
                                                        <th scope="col">Products</th>
                                                        <th scope="col">Amount</th>
                                                    </tr>
                                                    </thead>
                                                    <th:block th:if="${orderList}">
                                                    <tbody>
                                                    <tr th:each="order : ${orderList}">
                                                        <td class="text-secondary" th:text="${order?.user?.userDetails?.fullName}"></td>
                                                        <td th:text="${order?.user?.emailAddress}"></td>
                                                        <td>
                                                            <th:block th:if="${order.itemList}">
                                                                <th:block th:each="item : ${order.itemList}">
                                                                    <img th:src="${item.product.productThumbnail}" class="thumbnail-table me-2" alt=""/>
                                                                </th:block>
                                                            </th:block>
                                                        </td>
                                                        <td th:text="${#numbers.formatInteger(order?.orderPrice,5)} + ' đ'"></td>
                                                    </tr>
                                                    </tbody>
                                                    </th:block>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 mb-5">
                                    <div class="card border-0 shadow" style="border-radius: 8px !important;">
                                        <div class="card-header" style="border-radius: 8px 8px 0 0 !important;">
                                            <h5>Employee Status</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="user-status table-responsive products-table">
                                                <table class="table table-bordernone mb-0">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">Image</th>
                                                        <th scope="col">Name</th>
                                                        <th scope="col">Designation</th>
                                                        <th scope="col">Skill Level</th>
                                                        <th scope="col">Experience</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr class="align-middle">
                                                        <td>
                                                            <img class="img-radius align-top m-r-15 rounded-circle blur-up thumbnail-table"
                                                                 src="../static/images/bua3.jpg" th:src="@{/images/bua3.jpg}" alt="" data-original-title=""
                                                                 title=""/>
                                                        </td>
                                                        <td>Tran Van Tu</td>
                                                        <td>Front-end Developer</td>
                                                        <td>
                                                            <div class="progress-showcase">
                                                                <div class="progress" style="height: 8px;">
                                                                    <div class="progress-bar bg-primary"
                                                                         role="progressbar" style="width: 60%"
                                                                         aria-valuenow="50" aria-valuemin="0"
                                                                         aria-valuemax="100"></div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="digits">5 Month</td>
                                                    </tr>
                                                    <tr class="align-middle">
                                                        <td>
                                                            <img class="img-radius align-top m-r-15 rounded-circle blur-up thumbnail-table"
                                                                 src="../static/images/bua2.jpg" th:src="@{/images/bua2.jpg}" alt="" data-original-title=""
                                                                 title=""/>
                                                        </td>
                                                        <td>Nguyen Van Tu</td>
                                                        <td>Back-end Developer</td>
                                                        <td>
                                                            <div class="progress-showcase">
                                                                <div class="progress" style="height: 8px;">
                                                                    <div class="progress-bar bg-danger"
                                                                         role="progressbar" style="width: 50%"
                                                                         aria-valuenow="50" aria-valuemin="0"
                                                                         aria-valuemax="100"></div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="digits">5 Month</td>
                                                    </tr>
                                                    <tr class="align-middle">
                                                        <td>
                                                            <img class="img-radius align-top m-r-15 rounded-circle blur-up thumbnail-table"
                                                                 src="../static/images/bua1.jpg" th:src="@{/images/bua1.jpg}" alt="" data-original-title=""
                                                                 title=""/>
                                                        </td>
                                                        <td>Lam Ngoc Huy</td>
                                                        <td>Back-end Developer</td>
                                                        <td>
                                                            <div class="progress-showcase">
                                                                <div class="progress" style="height: 8px;">
                                                                    <div class="progress-bar bg-warning"
                                                                         role="progressbar" style="width: 70%"
                                                                         aria-valuenow="50" aria-valuemin="0"
                                                                         aria-valuemax="100"></div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="digits">5 Month</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 mb-5">
                                    <div class="card border-0 shadow" style="border-radius: 8px !important;">
                                        <div class="card-header" style="border-radius: 8px 8px 0 0 !important;">
                                            <h5>Top Products</h5>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="linechart">

                                            </canvas>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <footer th:replace="layout :: footer"></footer>
        </div>
    </div>
    <script>
        // for parse currency unit
        $(document).ready(function () {
            let courter = parseInt($('#courter').text());
            courter = courter / 1000;
            $('#courter').text(courter + 'k');
        })

        // for bar chart

        // for line chart
        let xAxis = ['Áo thun', 'Đồng hồ', 'Áo khoác', 'Dây nhảy', 'Giày', 'Ốp lưng', 'Tất'];
        let yAxis = [213, 100, 99, 155, 198, 131, 179];
        let lineChart = document.getElementById('linechart').getContext('2d');
        let showLineChart = new Chart(lineChart, {
            type: 'bar',
            data: {
                labels: xAxis,
                datasets: [{
                    label: 'quantity',
                    data: yAxis
                }]
            }
        })
    </script>
</body>

</html>